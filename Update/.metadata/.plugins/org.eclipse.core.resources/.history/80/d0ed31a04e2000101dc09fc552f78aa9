<%@ page import="java.util.List" %>
<%@ page import="com.tms.beans.TrainBean" %>
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin - View Trains</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
  <style>
    .navbar-brand {
      font-weight: bold;
      font-size: 1.5rem;
    }
    .navbar {
      background-color: #1d3557;
    }
    .nav-link {
      color: white !important;
    }
    .btn1 {
      padding: 0;
    }
    footer {
      margin-top: 4rem;
      padding: 3rem 1rem;
      background-color: #1d3557;
      color: white;
      text-align: center;
    }
    footer a {
      color: #ffc107;
      text-decoration: none;
    }
    .footer-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 2rem;
    }
    .footer-column h4 {
      margin-bottom: 1rem;
      font-size: 1.1rem;
      color: #ffb703;
    }
    .footer-column ul {
      list-style: none;
      padding: 0;
    }
    .footer-column ul li {
      margin-bottom: 0.5rem;
    }
    .footer-column iframe {
      width: 100%;
      height: 160px;
      border: none;
      border-radius: 8px;
    }
    .footer-column .social-icons a {
      margin-right: 8px;
      font-size: 1.2rem;
      color: #f1faee;
      transition: color 0.3s;
    }
    .footer-column .social-icons a:hover {
      color: #ffb703;
    }
  </style>
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">E-Trains</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="AdminHome.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="adminviewtrainfwd">View Trains</a></li>
        <li class="nav-item"><a class="nav-link" href="adminsearchtrainfwd">Search By TrainNo</a></li>
        <li class="nav-item"><a class="nav-link" href="addtrainfwd">Add Train</a></li>
        <li class="nav-item"><a class="nav-link" href="cancletrainfwd">Delete Train</a></li>
        <li class="nav-item"><a class="nav-link" href="updatetrain">Update Train</a></li>
        <li class="btn btn-sm btn-danger btn1"><a class="nav-link" href="adminlogout">Logout</a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container mt-5">
  <h3 class="text-center mb-4">Running Trains</h3>
  <%
    List<TrainBean> trains = (List<TrainBean>) request.getAttribute("trains");
    if (trains != null && !trains.isEmpty()) {
  %>
  <div class="table-responsive">
    <table class="table table-striped table-hover table-bordered">
      <thead class="table-dark">
        <tr>
          <th>Train Name</th>
          <th>Train Number</th>
          <th>From Station</th>
          <th>To Station</th>
          <th>Seats Available</th>
          <th>Fare (INR)</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <% for (TrainBean train : trains) { %>
        <tr>
          <td><a href="viewadmin?trainNo=<%= train.getTr_no() %>&fromStn=<%= train.getFrom_stn() %>&toStn=<%= train.getTo_stn() %>"><%= train.getTr_name() %></a></td>
          <td><%= train.getTr_no() %></td>
          <td><%= train.getFrom_stn() %></td>
          <td><%= train.getTo_stn() %></td>
          <td><%= train.getSeats() %></td>
          <td><%= train.getFare() %> RS</td>
          <td><a href="adminupdatetrain?trainnumber=<%= train.getTr_no() %>">Update</a></td>
        </tr>
        <% } %>
      </tbody>
    </table>
  </div>
  <% } else { %>
    <div class="alert alert-warning text-center">No Running Trains Found</div>
  <% } %>
</div>

<!-- Footer -->
<footer>
  <div class="container footer-container">
    <div class="footer-column">
      <h4>Follow Us</h4>
      <div class="social-icons">
        <a href="#"><i class="fab fa-facebook"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
    <div class="footer-column">
      <h4>Location</h4>
      <ul>
        <li>11218 John Galt Blvd Ste 301</li>
        <li>Mumbai, Maharashtra</li>
        <li>Pincode - 400053</li>
      </ul>
    </div>
    <div class="footer-column">
      <h4>Our Location</h4>
      <iframe src="https://www.google.com/maps/embed?pb=!1m18..."></iframe>
    </div>
  </div>
</footer>

</body>
</html>
