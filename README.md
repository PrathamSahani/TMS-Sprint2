# TMS-Sprint2

Derby Query 

-- Create CUSTOMER Table
CREATE TABLE CUSTOMER 
(   
    MAILID VARCHAR(40) PRIMARY KEY, 
    PWORD VARCHAR(20) NOT NULL, 
    FNAME VARCHAR(20) NOT NULL, 
    LNAME VARCHAR(20), 
    ADDR VARCHAR(100), 
    PHNO BIGINT NOT NULL
);

select * from CUSTOMER

-- Create ADMIN Table
CREATE TABLE ADMIN
(   
    MAILID VARCHAR(40) PRIMARY KEY, 
    PWORD VARCHAR(20) NOT NULL, 
    FNAME VARCHAR(20) NOT NULL, 
    LNAME VARCHAR(20), 
    ADDR VARCHAR(100), 
    PHNO BIGINT NOT NULL
);

select * from admin

-- Create TRAIN Table
CREATE TABLE TRAIN 
(   
    TR_NO INTEGER PRIMARY KEY, 
    TR_NAME VARCHAR(70) NOT NULL, 
    FROM_STN VARCHAR(20) NOT NULL, 
    TO_STN VARCHAR(20) NOT NULL, 
    SEATS INTEGER NOT NULL, 
    FARE DECIMAL(6,2) NOT NULL 
);


select * from TRAIN

-- Insert ADMIN
INSERT INTO ADMIN VALUES('admin@demo.com','admin','System','Admin','Demo Address 123 colony',9826459320);

-- Insert CUSTOMER
INSERT INTO CUSTOMER VALUES('pratham@gmail.com','pratham','pratham','Raj','Ujjain, MP',9826459320);

-- Insert TRAINS
INSERT INTO TRAIN VALUES(10001,'JODHPUR EXP','HOWRAH','JODHPUR', 152, 490.50);
INSERT INTO TRAIN VALUES(10002,'YAMUNA EXP','GAYA','DELHI', 52, 550.50);
INSERT INTO TRAIN VALUES(10003,'NILANCHAL EXP','GAYA','HOWRAH', 92, 451.00);
INSERT INTO TRAIN VALUES(10004,'JAN SATABDI EXP','RANCHI','PATNA', 182, 550.00);
INSERT INTO TRAIN VALUES(10005,'GANGE EXP','MUMBAI','KERALA', 12, 945.00);
INSERT INTO TRAIN VALUES(10006,'GARIB RATH EXP','PATNA','DELHI', 1, 1450.75);

CREATE TABLE HISTORY 
(   
    TRANSID VARCHAR(36) PRIMARY KEY, 
    MAILID VARCHAR(40), 
    TR_NO INT,
    DATE DATE,
    FROM_STN VARCHAR(20) NOT NULL, 
    TO_STN VARCHAR(20) NOT NULL, 
    SEATS INT NOT NULL, 
    AMOUNT DECIMAL(8,2) NOT NULL,
    CONSTRAINT FK_HISTORY_CUSTOMER FOREIGN KEY (MAILID) REFERENCES CUSTOMER(MAILID)
);

-- Insert HISTORY
INSERT INTO HISTORY VALUES('BBC374-NSDF-4673','pratham@gmail.com',10001, DATE('2024-02-02'), 'HOWRAH', 'JODHPUR', 2, 981.00);
INSERT INTO HISTORY VALUES('BBC375-NSDF-4675','pratham@gmail.com',10004, DATE('2024-01-12'), 'RANCHI', 'PATNA', 1, 550.00);
INSERT INTO HISTORY VALUES('BBC373-NSDF-4674','pratham@gmail.com',10006, DATE('2024-07-22'), 'PATNA', 'DELHI', 3, 4352.25);
